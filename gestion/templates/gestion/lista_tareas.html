{% extends 'gestion/base.html' %}

{% block title %}Lista de Tareas{% endblock %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Tablero de Tareas</h1>
    <a href="{% url 'crear_tarea' %}" class="btn btn-primary">Crear Nueva Tarea</a>
  </div>

  <div class="list-group">
    {% for tarea in tareas %}
      <a href="{% url 'detalle_tarea' tarea.id %}" class="list-group-item list-group-item-action">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">{{ tarea.titulo }}</h5>
          <small>{{ tarea.fecha_creacion|date:"d M Y" }}</small>
        </div>
        <p class="mb-1">Prioridad: 
            {% if tarea.prioridad == 'Alta' %}
                <span class="badge bg-danger">{{ tarea.prioridad }}</span>
            {% elif tarea.prioridad == 'Media' %}
                <span class="badge bg-warning text-dark">{{ tarea.prioridad }}</span>
            {% else %}
                <span class="badge bg-success">{{ tarea.prioridad }}</span>
            {% endif %}
        </p>
        <small>Estado: {{ tarea.estado }}</small>
      </a>
    {% empty %}
      <p class="list-group-item">No hay tareas disponibles. Â¡Crea la primera!</p>
    {% endfor %}
  </div>
{% endblock %}